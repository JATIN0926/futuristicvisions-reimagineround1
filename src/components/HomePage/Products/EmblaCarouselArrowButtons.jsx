"use client";
import React, { useCallback, useEffect, useState } from "react";
import styles from "./embla.module.css";
export const usePrevNextButtons = (emblaApi) => {
  const [prevBtnDisabled, setPrevBtnDisabled] = useState(true);
  const [nextBtnDisabled, setNextBtnDisabled] = useState(true);

  const onPrevButtonClick = useCallback(() => {
    if (!emblaApi) return;
    emblaApi.scrollPrev();
  }, [emblaApi]);

  const onNextButtonClick = useCallback(() => {
    if (!emblaApi) return;
    emblaApi.scrollNext();
  }, [emblaApi]);

  const onSelect = useCallback((emblaApi) => {
    setPrevBtnDisabled(!emblaApi.canScrollPrev());
    setNextBtnDisabled(!emblaApi.canScrollNext());
  }, []);

  useEffect(() => {
    if (!emblaApi) return;

    onSelect(emblaApi);
    emblaApi.on("reInit", onSelect);
    emblaApi.on("select", onSelect);
  }, [emblaApi, onSelect]);

  return {
    prevBtnDisabled,
    nextBtnDisabled,
    onPrevButtonClick,
    onNextButtonClick,
  };
};

export const PrevButton = (props) => {
  const { children, ...restProps } = props;

  return (
    <button
      className={`${styles.embla__button} ${styles.embla__button__prev}`}
      type="button"
      {...restProps}
    >
      <svg
        width="50"
        height="50"
        viewBox="0 0 50 50"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M25 44.5317C28.8629 44.5317 32.6391 43.3863 35.851 41.2401C39.0629 39.094 41.5662 36.0436 43.0445 32.4748C44.5228 28.9059 44.9096 24.9788 44.156 21.1901C43.4023 17.4014 41.5422 13.9213 38.8107 11.1898C36.0792 8.45831 32.599 6.59814 28.8103 5.84452C25.0217 5.09091 21.0946 5.47769 17.5257 6.95596C13.9568 8.43424 10.9065 10.9376 8.76035 14.1495C6.61423 17.3614 5.46874 21.1376 5.46874 25.0005C5.47443 30.1788 7.534 35.1433 11.1956 38.8049C14.8572 42.4665 19.8217 44.5261 25 44.5317ZM25 7.03173C28.5539 7.03173 32.0279 8.08558 34.9829 10.06C37.9378 12.0344 40.2409 14.8408 41.601 18.1241C42.961 21.4075 43.3168 25.0204 42.6235 28.506C41.9301 31.9916 40.2188 35.1933 37.7058 37.7063C35.1928 40.2193 31.9911 41.9306 28.5055 42.624C25.0199 43.3173 21.407 42.9615 18.1236 41.6014C14.8403 40.2414 12.034 37.9383 10.0595 34.9834C8.08509 32.0284 7.03124 28.5544 7.03124 25.0005C7.03641 20.2365 8.9312 15.669 12.2999 12.3004C15.6685 8.9317 20.236 7.0369 25 7.03173ZM16.6348 25.5532C16.5621 25.4807 16.5045 25.3945 16.4652 25.2997C16.4259 25.2048 16.4056 25.1032 16.4056 25.0005C16.4056 24.8978 16.4259 24.7962 16.4652 24.7013C16.5045 24.6065 16.5621 24.5203 16.6348 24.4478L22.8848 18.1978C23.0313 18.0512 23.2302 17.9688 23.4375 17.9688C23.6448 17.9688 23.8436 18.0512 23.9902 18.1978C24.1368 18.3443 24.2192 18.5432 24.2192 18.7505C24.2192 18.9578 24.1368 19.1566 23.9902 19.3032L19.0742 24.2192L32.8125 24.2192C33.0197 24.2192 33.2184 24.3015 33.3649 24.4481C33.5114 24.5946 33.5937 24.7933 33.5937 25.0005C33.5937 25.2077 33.5114 25.4064 33.3649 25.5529C33.2184 25.6994 33.0197 25.7817 32.8125 25.7817L19.0742 25.7817L23.9902 30.6978C24.1368 30.8443 24.2192 31.0432 24.2192 31.2505C24.2192 31.4578 24.1368 31.6566 23.9902 31.8032C23.8436 31.9498 23.6448 32.0322 23.4375 32.0322C23.2302 32.0322 23.0313 31.9498 22.8848 31.8032L16.6348 25.5532Z"
          fill="black"
        />
      </svg>
      {children}
    </button>
  );
};

export const NextButton = (props) => {
  const { children, ...restProps } = props;

  return (
    <button className={styles.embla__button} type="button" {...restProps}>
      <svg
        width="50"
        height="50"
        viewBox="0 0 50 50"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M25 5.46826C21.1371 5.46826 17.3609 6.61375 14.149 8.75987C10.9371 10.906 8.43376 13.9564 6.95549 17.5252C5.47721 21.0941 5.09043 25.0212 5.84405 28.8099C6.59766 32.5986 8.45784 36.0787 11.1893 38.8102C13.9208 41.5417 17.401 43.4019 21.1897 44.1555C24.9783 44.9091 28.9054 44.5223 32.4743 43.044C36.0432 41.5658 39.0935 39.0624 41.2397 35.8505C43.3858 32.6386 44.5313 28.8624 44.5313 24.9995C44.5256 19.8212 42.466 14.8567 38.8044 11.1951C35.1428 7.53353 30.1783 5.47395 25 5.46826ZM25 42.9683C21.4461 42.9683 17.9721 41.9144 15.0171 39.94C12.0622 37.9656 9.75906 35.1592 8.39905 31.8759C7.03904 28.5925 6.6832 24.9796 7.37652 21.494C8.06985 18.0084 9.78121 14.8067 12.2942 12.2937C14.8072 9.78071 18.0089 8.06935 21.4945 7.37603C24.9801 6.6827 28.593 7.03854 31.8764 8.39855C35.1597 9.75856 37.966 12.0617 39.9405 15.0166C41.9149 17.9716 42.9688 21.4456 42.9688 24.9995C42.9636 29.7635 41.0688 34.331 37.7001 37.6996C34.3315 41.0683 29.764 42.9631 25 42.9683ZM33.3652 24.4468C33.4379 24.5193 33.4955 24.6055 33.5348 24.7003C33.5741 24.7952 33.5944 24.8968 33.5944 24.9995C33.5944 25.1022 33.5741 25.2038 33.5348 25.2987C33.4955 25.3935 33.4379 25.4797 33.3652 25.5522L27.1152 31.8022C26.9687 31.9488 26.7698 32.0312 26.5625 32.0312C26.3552 32.0312 26.1564 31.9488 26.0098 31.8022C25.8632 31.6557 25.7808 31.4568 25.7808 31.2495C25.7808 31.0422 25.8632 30.8434 26.0098 30.6968L30.9258 25.7808H17.1875C16.9803 25.7808 16.7816 25.6985 16.6351 25.5519C16.4886 25.4054 16.4063 25.2067 16.4063 24.9995C16.4063 24.7923 16.4886 24.5936 16.6351 24.4471C16.7816 24.3006 16.9803 24.2183 17.1875 24.2183H30.9258L26.0098 19.3022C25.8632 19.1557 25.7808 18.9568 25.7808 18.7495C25.7808 18.5422 25.8632 18.3434 26.0098 18.1968C26.1564 18.0502 26.3552 17.9678 26.5625 17.9678C26.7698 17.9678 26.9687 18.0502 27.1152 18.1968L33.3652 24.4468Z"
          fill="black"
        />
      </svg>

      {children}
    </button>
  );
};
